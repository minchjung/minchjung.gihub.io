(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1119],{73298:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/videos/[id]",function(){return t(93338)}])},62747:function(n,e,t){"use strict";t.d(e,{Z:function(){return r.Z}});var r=t(85216)},93338:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return M}});var r=t(85893),i=t(67294),o=t(11163),c=t(8797),a=t(62747),u=(t(57767),t(4358),t(10272)),s=(t(91893),t(85215));function l(){var n,e,t=(n=["\n  video {\n    width: 100%;\n    height: auto;\n  }\n"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));return l=function(){return t},t}var d=function(n){var e=(0,i.useRef)(null),t=(0,i.useRef)(null),o=n.options,c=n.onReady;return(0,i.useEffect)((function(){if(!t.current){var n=e.current;if(!n)return;var r=t.current=(0,s.default)(n,o,(function(){r.log("player is ready"),c&&c(r)}))}}),[o,e]),(0,i.useEffect)((function(){var n=t.current;return function(){n&&(n.dispose(),t.current=null)}}),[t]),(0,r.jsx)(f,{"data-vjs-player":!0,children:(0,r.jsx)("video",{ref:e,className:"video-js vjs-theme-forest vjs-big-play-centered"})})},f=c.ZP.div.withConfig({componentId:"sc-c65f2c48-0"})(l()),p=t(25342),v=t(80304),h=t(30381),y=t.n(h);function x(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function m(){var n=x(["\n  width: 400px;\n  padding: 30px;\n\n  @media all and (max-width: 960px) {\n    width: 100%;\n  }\n"]);return m=function(){return n},n}function w(){var n=x(["\n  margin-bottom: 14px;\n"]);return w=function(){return n},n}function j(){var n=x(["\n  font-size: 24px;\n"]);return j=function(){return n},n}function b(){var n=x(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  height: 135px;\n  margin: 30px 0;\n  padding: 30px 0;\n  border-top: 1px solid #e7e7e7;\n  border-bottom: 1px solid #e7e7e7;\n\n  p {\n    display: flex;\n    justify-content: space-between;\n\n    span {\n      font-size: 14px;\n    }\n  }\n"]);return b=function(){return n},n}function k(){var n=x([""]);return k=function(){return n},n}function g(n){var e=n.vodInfo,t=e.title.split("]")[0].slice(1),i=e.title.split("]")[1],o=y()(null===e||void 0===e?void 0:e.start_date).format("YYYY.MM.DD"),c=y()(null===e||void 0===e?void 0:e.start_date).add("days",e.period).format("YYYY.MM.DD");return(0,r.jsxs)(_,{children:[(0,r.jsx)(R,{children:t}),(0,r.jsx)(P,{children:i||(null===e||void 0===e?void 0:e.title)}),(0,r.jsxs)(I,{children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{children:"\uc218\uac15\uae30\ud55c"}),(0,r.jsxs)("span",{children:[o," ~ ",c]})]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{children:"\uc2dc\uac04"}),(0,r.jsxs)("span",{children:[Math.floor((null===e||void 0===e?void 0:e.duration)/60),"\ubd84"]})]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{children:"\ub9ac\ub354"}),(0,r.jsx)("span",{children:null===e||void 0===e?void 0:e.leaders.join(", ")})]})]})]})}var _=c.ZP.div.withConfig({componentId:"sc-7c2537c9-0"})(m()),R=c.ZP.h3.withConfig({componentId:"sc-7c2537c9-1"})(w()),P=c.ZP.h1.withConfig({componentId:"sc-7c2537c9-2"})(j()),I=c.ZP.div.withConfig({componentId:"sc-7c2537c9-3"})(b()),O=(c.ZP.ul.withConfig({componentId:"sc-7c2537c9-4"})(k()),t(34051)),C=t.n(O),Z=t(5882);function T(n,e,t,r,i,o,c){try{var a=n[o](c),u=a.value}catch(s){return void t(s)}a.done?e(u):Promise.resolve(u).then(r,i)}var z=function(){var n,e=(n=C().mark((function n(e,t,r){var i;return C().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={time:t.currentTime(),rate:t.playbackRate(),purchaseId:r},n.next=3,(0,Z.DR)({method:"POST",url:v._P+"/".concat(e,"/playing"),body:i,withToken:!0});case 3:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function c(n){T(o,r,i,c,a,"next",n)}function a(n){T(o,r,i,c,a,"throw",n)}c(void 0)}))});return function(n,t,r){return e.apply(this,arguments)}}(),E=t(72034);function N(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function Y(){var n=N(["\n  display: flex;\n\n  @media all and (max-width: 960px) {\n    flex-direction: column;\n  }\n"]);return Y=function(){return n},n}function D(){var n=N(["\n  width: 100%;\n  height: auto;\n"]);return D=function(){return n},n}var S=c.ZP.div.withConfig({componentId:"sc-ec3c1ca2-0"})(Y()),K=c.ZP.div.withConfig({componentId:"sc-ec3c1ca2-1"})(D()),M=function(){var n=(0,i.useRef)(null),e=(0,o.useRouter)().query.id,t=function(n){var e=(0,p.L)({endpoint:v._P+"/".concat(n,"/url"),dataName:"vod_url",withToken:!0});return{vod_url:e.vod_url,mutate:e.mutate}}(e).vod_url,c=(0,i.useState)(!1),s=c[0],l=c[1],f=(0,E.V)();(0,i.useEffect)((function(){if(!localStorage.getItem("access_token"))return f();l(!1),t&&l(!0)}),[t]);var h={language:"ko",languages:{ko:u},controls:!0,responsive:!0,fluid:!0,aspectRatio:"16:9",poster:"".concat(null===t||void 0===t?void 0:t.poster_url),preload:"none",sources:[{src:"".concat(null===t||void 0===t?void 0:t.url),type:"".concat(null===t||void 0===t?void 0:t.type),withCredentials:!1}],playbackRates:[.5,1,1.5,2],userActions:{click:!1}};return(0,r.jsx)(a.Z,{children:(0,r.jsx)(S,{className:"vod-page",children:s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(K,{children:(0,r.jsx)(d,{options:h,onReady:function(r){var i;if(n.current=r,null===t||void 0===t?void 0:t.tracks){var o=!0,c=!1,a=void 0;try{for(var u,s=(null===t||void 0===t?void 0:t.tracks)[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var l=u.value;"subtitles"!=l.kind&&"captions"!=l.kind||(l.src=l.url,r.addRemoteTextTrack(l,l.default))}}catch(d){c=!0,a=d}finally{try{o||null==s.return||s.return()}finally{if(c)throw a}}}r.one("canplaythrough",(function(){(null===t||void 0===t?void 0:t.playhead)&&setTimeout((function(){r.currentTime(null===t||void 0===t?void 0:t.playhead)}),100)})),r.on("play",(function(){i=setInterval((function(){z(e,r,t.purchase_id)}),5e3)})),r.on("pause",(function(){clearInterval(i)})),r.hotkeys({volumeStep:.05,enableVolumeScroll:!1,customKeys:{playbackUpKey:{key:function(n){return n.shiftKey&&190===n.which},handler:function(n){if(n.tech_&&n.tech_.featuresPlaybackRate){var e=n.options_.playbackRates.indexOf(n.playbackRate());e<n.options_.playbackRates.length-1&&n.playbackRate(n.options_.playbackRates[e+1])}}},playbackDownKey:{key:function(n){return n.shiftKey&&188===n.which},handler:function(n){if(n.tech_&&n.tech_.featuresPlaybackRate){var e=n.options_.playbackRates.indexOf(n.playbackRate());e>0&&n.playbackRate(n.options_.playbackRates[e-1])}}}}}),r.on("waiting",(function(){r.log("player is waiting")})),r.on("dispose",(function(){r.log("player will dispose")}))}})}),(0,r.jsx)(g,{vodInfo:t})]})})})}},72034:function(n,e,t){"use strict";t.d(e,{V:function(){return i}});var r=t(11163),i=function(){var n=function(){var n=(0,r.useRouter)();return function(e){return n.push(e)}}();return function(){var e=encodeURI(window.location.pathname);n("/login?next=".concat(e))}}},25893:function(){}},function(n){n.O(0,[2544,9865,9685,5216,9774,2888,179],(function(){return e=73298,n(n.s=e);var e}));var e=n.O();_N_E=e}]);